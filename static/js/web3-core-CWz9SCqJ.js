import{C as x,a as I,P as w,R as p,r as E,b as j,I as J,c as V,S as g,O as $,d as z,E as U}from"./web3-errors-DMH_yRvG.js";import"./web3-validator-CNlFpTpb.js";import{D as S,W as K}from"./web3-types-DPR2whjI.js";import{E as Q,t as X,i as l,a as P,b as f,c as Y,d as G,e as Z,f as y,g as ee,h as te,j as ie,W as B}from"./web3-utils-4vEJ-nRv.js";import{H as re}from"./web3-providers-http-Cwe5AHsa.js";import{W as ne}from"./web3-providers-ws-BiRl01i7.js";import"./web3-eth-accounts-BPfGOTLV.js";import"./crc-32-BDf5M4FI.js";class R{constructor(){this._emitter=new Q}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,t){this._emitter.emit(e,t)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}}var C;(function(c){c.CONFIG_CHANGE="CONFIG_CHANGE"})(C||(C={}));class se extends R{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:75e4,transactionReceiptPollingInterval:void 0,transactionSendTimeout:75e4,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:X(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,customTransactionSchema:void 0,defaultReturnFormat:S,ignoreGasPricing:!1},this.setConfig(e??{})}setConfig(e){const t=Object.keys(e);for(const i of t)this._triggerConfigChange(i,e[i]),l(e[i])||typeof e[i]!="number"||i!=="maxListenersWarningThreshold"||this.setMaxListenerWarningThreshold(Number(e[i]));Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultReturnFormat(){return this.config.defaultReturnFormat}set defaultReturnFormat(e){this._triggerConfigChange("defaultReturnFormat",e),this.config.defaultReturnFormat=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!l(this.config.defaultCommon)&&!l(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new x(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!l(this.config.defaultCommon)&&!l(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new I(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!l(this.config.defaultHardfork)&&!l(e)&&!l(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new I(this.config.defaultHardfork,e.hardfork);if(!l(this.config.defaultChain)&&!l(e)&&!l(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new x(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get ignoreGasPricing(){return this.config.ignoreGasPricing}set ignoreGasPricing(e){this._triggerConfigChange("ignoreGasPricing",e),this.config.ignoreGasPricing=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}get customTransactionSchema(){return this.config.customTransactionSchema}set customTransactionSchema(e){this._triggerConfigChange("customTransactionSchema",e),this.config.customTransactionSchema=e}_triggerConfigChange(e,t){this.emit(C.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:t})}}const A=c=>K.isWeb3Provider(c),O=c=>typeof c!="string"&&"request"in c&&c.request.constructor.name==="Function",H=c=>typeof c!="string"&&"request"in c&&c.request.constructor.name==="AsyncFunction",D=c=>typeof c!="string"&&"send"in c,L=c=>typeof c!="string"&&"sendAsync"in c;var m,q=function(c,e,t,i){return new(t||(t=Promise))(function(r,o){function h(s){try{u(i.next(s))}catch(n){o(n)}}function a(s){try{u(i.throw(s))}catch(n){o(n)}}function u(s){var n;s.done?r(s.value):(n=s.value,n instanceof t?n:new t(function(d){d(n)})).then(h,a)}u((i=i.apply(c,e||[])).next())})};(function(c){c.PROVIDER_CHANGED="PROVIDER_CHANGED",c.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE"})(m||(m={}));const F={HttpProvider:re,WebsocketProvider:ne};class v extends R{constructor(e,t,i){super(),l(e)||this.setProvider(e),this.useRpcCallSpecification=t,l(i)||(this.middleware=i)}static get providers(){return F}get provider(){return this._provider}get providers(){return F}setProvider(e){let t;if(e&&typeof e=="string"&&this.providers)if(/^http(s)?:\/\//i.test(e))t=new this.providers.HttpProvider(e);else{if(!/^ws(s)?:\/\//i.test(e))throw new w(`Can't autodetect provider for "${e}"`);t=new this.providers.WebsocketProvider(e)}else t=l(e)?void 0:e;return this.emit(m.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=t,this.emit(m.PROVIDER_CHANGED,this._provider),!0}setMiddleware(e){this.middleware=e}send(e){return q(this,void 0,void 0,function*(){const t=Object.assign({},e);let i=yield this._sendRequest(t);if(l(this.middleware)||(i=yield this.middleware.processResponse(i)),P(i))return i.result;throw new p(i)})}sendBatch(e){return q(this,void 0,void 0,function*(){return yield this._sendRequest(e)})}_sendRequest(e){return q(this,void 0,void 0,function*(){const{provider:t}=this;if(l(t))throw new w("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let i=f(e)?Y(e):G(e);if(l(this.middleware)||(i=yield this.middleware.processRequest(i)),A(t)){let r;try{r=yield t.request(i)}catch(o){r=o}return this._processJsonRpcResponse(i,r,{legacy:!1,error:!1})}if(H(t))return t.request(i).then(r=>this._processJsonRpcResponse(i,r,{legacy:!0,error:!1})).catch(r=>this._processJsonRpcResponse(i,r,{legacy:!0,error:!0}));if(O(t))return new Promise((r,o)=>{const h=s=>{o(this._processJsonRpcResponse(i,s,{legacy:!0,error:!0}))},a=s=>r(this._processJsonRpcResponse(i,s,{legacy:!0,error:!1})),u=t.request(i,(s,n)=>s?h(s):a(n));Z(u)&&u.then(a).catch(s=>{try{const n=this._processJsonRpcResponse(i,s,{legacy:!0,error:!0});o(n)}catch(n){o(n)}})});if(D(t))return new Promise((r,o)=>{t.send(i,(h,a)=>{if(h)return o(this._processJsonRpcResponse(i,h,{legacy:!0,error:!0}));if(l(a))throw new p({},'Got a "nullish" response from provider.');return r(this._processJsonRpcResponse(i,a,{legacy:!0,error:!1}))})});if(L(t))return t.sendAsync(i).then(r=>this._processJsonRpcResponse(i,r,{legacy:!0,error:!1})).catch(r=>this._processJsonRpcResponse(i,r,{legacy:!0,error:!0}));throw new w("Provider does not have a request or send method to use.")})}_processJsonRpcResponse(e,t,{legacy:i,error:r}){if(l(t))return this._buildResponse(e,null,r);if(y(t)){if(this.useRpcCallSpecification&&ee(t)){const o=t;throw E.get(o.error.code)?new(E.get(o.error.code)).error(o):new j(o)}if(!v._isReverted(t))throw new J(t,e)}if(P(t))return t;if(t instanceof Error)throw v._isReverted(t),t;if(!i&&f(e)&&te(t)||i&&!r&&f(e))return t;if(i&&r&&f(e))throw t;if(i&&!y(t)&&!P(t))return this._buildResponse(e,t,r);throw f(e)&&!Array.isArray(t)?new p(t,"Got normal response for a batch request."):!f(e)&&Array.isArray(t)?new p(t,"Got batch response for a normal request."):new p(t,"Invalid response")}static _isReverted(e){let t;if(y(e)?t=e.error:e instanceof Error&&(t=e),t==null?void 0:t.message.includes("revert"))throw new V(t);return!1}_buildResponse(e,t,i){const r={jsonrpc:"2.0",id:f(e)?e[0].id:"id"in e?e.id:null};return i?Object.assign(Object.assign({},r),{error:t}):Object.assign(Object.assign({},r),{result:t})}}var b=function(c,e,t,i){return new(t||(t=Promise))(function(r,o){function h(s){try{u(i.next(s))}catch(n){o(n)}}function a(s){try{u(i.throw(s))}catch(n){o(n)}}function u(s){var n;s.done?r(s.value):(n=s.value,n instanceof t?n:new t(function(d){d(n)})).then(h,a)}u((i=i.apply(c,e||[])).next())})};class T{constructor(e,t,i=!1){this.requestManager=e,this.registeredSubscriptions=t,this.tolerateUnlinkedSubscription=i,this._subscriptions=new Map,this.requestManager.on(m.BEFORE_PROVIDER_CHANGE,()=>b(this,void 0,void 0,function*(){yield this.unsubscribe()})),this.requestManager.on(m.PROVIDER_CHANGED,()=>{this.clear(),this.listenToProviderEvents()}),this.listenToProviderEvents()}listenToProviderEvents(){const e=this.requestManager.provider;this.requestManager.provider&&(typeof(e==null?void 0:e.supportsSubscriptions)!="function"||e!=null&&e.supportsSubscriptions())&&typeof this.requestManager.provider.on=="function"&&(typeof this.requestManager.provider.request=="function"?this.requestManager.provider.on("message",t=>this.messageListener(t)):e.on("data",t=>this.messageListener(t)))}messageListener(e){var t,i,r;if(!e)throw new g("Should not call messageListener with no data. Type was");const o=((t=e.params)===null||t===void 0?void 0:t.subscription)||((i=e.data)===null||i===void 0?void 0:i.subscription)||((r=e.id)===null||r===void 0?void 0:r.toString(16));if(o){const h=this._subscriptions.get(o);h==null||h.processSubscriptionData(e)}}subscribe(e,t){return b(this,arguments,void 0,function*(i,r,o=S){const h=this.registeredSubscriptions[i];if(!h)throw new g("Invalid subscription type");const a=new h(r??void 0,{subscriptionManager:this,returnFormat:o});return yield this.addSubscription(a),a})}get subscriptions(){return this._subscriptions}addSubscription(e){return b(this,void 0,void 0,function*(){if(!this.requestManager.provider)throw new w("Provider not available");if(!this.supportsSubscriptions())throw new g("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new g(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),l(e.id))throw new g("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id})}removeSubscription(e){return b(this,void 0,void 0,function*(){const{id:t}=e;if(l(t))throw new g("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(t)&&!this.tolerateUnlinkedSubscription)throw new g(`Subscription with id "${t.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(t),t})}unsubscribe(e){return b(this,void 0,void 0,function*(){const t=[];for(const[i,r]of this.subscriptions.entries())(!e||typeof e=="function"&&e({id:i,sub:r}))&&t.push(this.removeSubscription(r));return Promise.all(t)})}clear(){this._subscriptions.clear()}supportsSubscriptions(){return!l(this.requestManager.provider)&&((e=this.requestManager.provider)&&"supportsSubscriptions"in e?e.supportsSubscriptions():!(!e||typeof e=="string"||!("on"in e)));var e}}var _=function(c,e,t,i){return new(t||(t=Promise))(function(r,o){function h(s){try{u(i.next(s))}catch(n){o(n)}}function a(s){try{u(i.throw(s))}catch(n){o(n)}}function u(s){var n;s.done?r(s.value):(n=s.value,n instanceof t?n:new t(function(d){d(n)})).then(h,a)}u((i=i.apply(c,e||[])).next())})};class ve extends R{constructor(e,t){var i;super(),this.args=e;const{requestManager:r}=t,{subscriptionManager:o}=t;this._subscriptionManager=r?new T(r,{},!0):o,this._returnFormat=(i=t==null?void 0:t.returnFormat)!==null&&i!==void 0?i:S}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return _(this,void 0,void 0,function*(){return this._subscriptionManager.addSubscription(this)})}processSubscriptionData(e){var t,i;e!=null&&e.data?this._processSubscriptionResult((i=(t=e==null?void 0:e.data)===null||t===void 0?void 0:t.result)!==null&&i!==void 0?i:e==null?void 0:e.data):e&&ie(e)&&this._processSubscriptionResult(e==null?void 0:e.params.result)}sendSubscriptionRequest(){return _(this,void 0,void 0,function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id})}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return _(this,void 0,void 0,function*(){yield this.unsubscribe(),yield this.subscribe()})}unsubscribe(){return _(this,void 0,void 0,function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))})}sendUnsubscribeRequest(){return _(this,void 0,void 0,function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0})}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw new Error("Implement in the child class")}}var N=function(c,e,t,i){return new(t||(t=Promise))(function(r,o){function h(s){try{u(i.next(s))}catch(n){o(n)}}function a(s){try{u(i.throw(s))}catch(n){o(n)}}function u(s){var n;s.done?r(s.value):(n=s.value,n instanceof t?n:new t(function(d){d(n)})).then(h,a)}u((i=i.apply(c,e||[])).next())})};class oe{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map(e=>e.payload)}add(e){const t=G(e),i=new B;return this._requests.set(t.id,{payload:t,promise:i}),i}execute(e){return N(this,void 0,void 0,function*(){var t;if(this.requests.length===0)return Promise.resolve([]);const i=new B({timeout:(t=e==null?void 0:e.timeout)!==null&&t!==void 0?t:1e3,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(i).catch(r=>i.reject(r)),i.catch(r=>{r instanceof $&&this._abortAllRequests("Batch request timeout"),i.reject(r)}),i})}_processBatchRequest(e){return N(this,void 0,void 0,function*(){var t,i;const r=yield this._requestManager.sendBatch([...this._requests.values()].map(a=>a.payload));if(r.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new p(r,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${r.length}`);const o=this.requests.map(a=>a.id).map(Number).sort((a,u)=>a-u),h=r.map(a=>a.id).map(Number).sort((a,u)=>a-u);if(JSON.stringify(o)!==JSON.stringify(h))throw this._abortAllRequests("Invalid batch response"),new p(r,`Batch request mismatch the results. Requests: [${o.join()}], Responses: [${h.join()}]`);for(const a of r)P(a)?(t=this._requests.get(a.id))===null||t===void 0||t.promise.resolve(a.result):y(a)&&((i=this._requests.get(a.id))===null||i===void 0||i.promise.reject(a.error));e.resolve(r)})}_abortAllRequests(e){for(const{promise:t}of this._requests.values())t.reject(new z(e))}}var ae=function(c,e,t,i){return new(t||(t=Promise))(function(r,o){function h(s){try{u(i.next(s))}catch(n){o(n)}}function a(s){try{u(i.throw(s))}catch(n){o(n)}}function u(s){var n;s.done?r(s.value):(n=s.value,n instanceof t?n:new t(function(d){d(n)})).then(h,a)}u((i=i.apply(c,e||[])).next())})};class k extends se{constructor(e){var t;if(super(),this.providers=v.providers,l(e)||typeof e=="string"&&e.trim()!==""||(d=>d&&(A(d)||H(d)||O(d)||L(d)||D(d)))(e))return this._requestManager=new v(e),void(this._subscriptionManager=new T(this._requestManager,{}));const{config:i,provider:r,requestManager:o,subscriptionManager:h,registeredSubscriptions:a,accountProvider:u,wallet:s,requestManagerMiddleware:n}=e;this.setConfig(i??{}),this._requestManager=o??new v(r,(t=i==null?void 0:i.enableExperimentalFeatures)===null||t===void 0?void 0:t.useSubscriptionWhenCheckingBlockTimeout,n),this._subscriptionManager=h||new T(this.requestManager,a??{}),u&&(this._accountProvider=u),s&&(this._wallet=s)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(...e){return new this(...e.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:(e=this.subscriptionManager)===null||e===void 0?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e,...t){const i=new e(...t,this.getContextObject());return this.on(C.CONFIG_CHANGE,r=>{i.setConfig({[r.name]:r.newValue})}),this[e.name]=i,i}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(C.CONFIG_CHANGE,t=>{this.setConfig({[t.name]:t.newValue})})}registerPlugin(e){if(this[e.pluginNamespace]!==void 0)throw new U(e.pluginNamespace);const t={[e.pluginNamespace]:e};t[e.pluginNamespace].link(this),Object.assign(this,t)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return k.givenProvider}setProvider(e){return this.provider=e,!0}setRequestManagerMiddleware(e){this.requestManager.setMiddleware(e)}get BatchRequest(){return oe.bind(void 0,this._requestManager)}extend(e){var t;return e.property&&!this[e.property]&&(this[e.property]={}),(t=e.methods)===null||t===void 0||t.forEach(i=>{const r=(...o)=>ae(this,void 0,void 0,function*(){return this.requestManager.send({method:i.call,params:o})});e.property?this[e.property][i.name]=r:this[i.name]=r}),this}}k.providers=v.providers;var W,M=function(c,e,t,i){return new(t||(t=Promise))(function(r,o){function h(s){try{u(i.next(s))}catch(n){o(n)}}function a(s){try{u(i.throw(s))}catch(n){o(n)}}function u(s){var n;s.done?r(s.value):(n=s.value,n instanceof t?n:new t(function(d){d(n)})).then(h,a)}u((i=i.apply(c,e||[])).next())})};class me extends R{constructor(e){super(),this[W]="Promise",this._promise=new Promise(e)}then(e,t){return M(this,void 0,void 0,function*(){return this._promise.then(e,t)})}catch(e){return M(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return M(this,void 0,void 0,function*(){return this._promise.finally(e)})}on(e,t){return super.on(e,t),this}once(e,t){return super.once(e,t),this}}W=Symbol.toStringTag;export{me as W,ve as a,T as b,k as c,C as d};
