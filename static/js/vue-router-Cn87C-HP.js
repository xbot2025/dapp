import{P as ce,u as Z,R as le,n as ie,i as F,y as Xt,a as ue,c as B,O as Yt,p as mt,r as fe,w as pe}from"./@vue-BS1r8QP-.js";const H=typeof document<"u";function $t(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}const k=Object.assign;function gt(t,e){const r={};for(const s in e){const i=e[s];r[s]=L(i)?i.map(t):t(i)}return r}const J=()=>{},L=Array.isArray,Nt=/#/g,he=/&/g,de=/\//g,me=/=/g,ge=/\?/g,Zt=/\+/g,ve=/%5B/g,ye=/%5D/g,Jt=/%5E/g,be=/%60/g,te=/%7B/g,we=/%7C/g,ee=/%7D/g,Ee=/%20/g;function kt(t){return encodeURI(""+t).replace(we,"|").replace(ve,"[").replace(ye,"]")}function vt(t){return kt(t).replace(Zt,"%2B").replace(Ee,"+").replace(Nt,"%23").replace(he,"%26").replace(be,"`").replace(te,"{").replace(ee,"}").replace(Jt,"^")}function Re(t){return t==null?"":function(e){return kt(e).replace(Nt,"%23").replace(ge,"%3F")}(t).replace(de,"%2F")}function et(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const ke=/\/$/;function yt(t,e,r="/"){let s,i={},m="",h="";const n=e.indexOf("#");let o=e.indexOf("?");return n<o&&n>=0&&(o=-1),o>-1&&(s=e.slice(0,o),m=e.slice(o+1,n>-1?n:e.length),i=t(m)),n>-1&&(s=s||e.slice(0,n),h=e.slice(n,e.length)),s=function(c,u){if(c.startsWith("/"))return c;if(!c)return u;const y=u.split("/"),l=c.split("/"),f=l[l.length-1];f!==".."&&f!=="."||l.push("");let d,g,w=y.length-1;for(d=0;d<l.length;d++)if(g=l[d],g!=="."){if(g!=="..")break;w>1&&w--}return y.slice(0,w).join("/")+"/"+l.slice(d).join("/")}(s??e,r),{fullPath:s+(m&&"?")+m+h,path:s,query:i,hash:et(h)}}function jt(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function Q(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ne(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!Oe(t[r],e[r]))return!1;return!0}function Oe(t,e){return L(t)?St(t,e):L(e)?St(e,t):t===e}function St(t,e){return L(e)?t.length===e.length&&t.every((r,s)=>r===e[s]):t.length===1&&t[0]===e}const W={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var nt,At,tt,bt;function Pe(t){if(!t)if(H){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),t.replace(ke,"")}(At=nt||(nt={})).pop="pop",At.push="push",(bt=tt||(tt={})).back="back",bt.forward="forward",bt.unknown="";const xe=/^[^#]+#/;function Ce(t,e){return t.replace(xe,"#")+e}const st=()=>({left:window.scrollX,top:window.scrollY});function $e(t){let e;if("el"in t){const r=t.el,s=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?s?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=function(m,h){const n=document.documentElement.getBoundingClientRect(),o=m.getBoundingClientRect();return{behavior:h.behavior,left:o.left-n.left-(h.left||0),top:o.top-n.top-(h.top||0)}}(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function qt(t,e){return(history.state?history.state.position-e:-1)+t}const wt=new Map;function re(t,e){const{pathname:r,search:s,hash:i}=e,m=t.indexOf("#");if(m>-1){let h=i.includes(t.slice(m))?t.slice(m).length:1,n=i.slice(h);return n[0]!=="/"&&(n="/"+n),jt(n,"")}return jt(r,t)+s+i}function Lt(t,e,r,s=!1,i=!1){return{back:t,current:e,forward:r,replaced:s,position:window.history.length,scroll:i?st():null}}function je(t){const{history:e,location:r}=window,s={value:re(t,r)},i={value:e.state};function m(h,n,o){const c=t.indexOf("#"),u=c>-1?(r.host&&document.querySelector("base")?t:t.slice(c))+h:location.protocol+"//"+location.host+t+h;try{e[o?"replaceState":"pushState"](n,"",u),i.value=n}catch(y){console.error(y),r[o?"replace":"assign"](u)}}return i.value||m(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:s,state:i,push:function(h,n){const o=k({},i.value,e.state,{forward:h,scroll:st()});m(o.current,o,!0),m(h,k({},Lt(s.value,h,null),{position:o.position+1},n),!1),s.value=h},replace:function(h,n){m(h,k({},e.state,Lt(i.value.back,h,i.value.forward,!0),n,{position:i.value.position}),!0),s.value=h}}}function ze(t){const e=je(t=Pe(t)),r=function(i,m,h,n){let o=[],c=[],u=null;const y=({state:f})=>{const d=re(i,location),g=h.value,w=m.value;let O=0;if(f){if(h.value=d,m.value=f,u&&u===g)return void(u=null);O=w?f.position-w.position:0}else n(d);o.forEach($=>{$(h.value,g,{delta:O,type:nt.pop,direction:O?O>0?tt.forward:tt.back:tt.unknown})})};function l(){const{history:f}=window;f.state&&f.replaceState(k({},f.state,{scroll:st()}),"")}return window.addEventListener("popstate",y),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:function(){u=h.value},listen:function(f){o.push(f);const d=()=>{const g=o.indexOf(f);g>-1&&o.splice(g,1)};return c.push(d),d},destroy:function(){for(const f of c)f();c=[],window.removeEventListener("popstate",y),window.removeEventListener("beforeunload",l)}}}(t,e.state,e.location,e.replace),s=k({location:"",base:t,go:function(i,m=!0){m||r.pauseListeners(),history.go(i)},createHref:Ce.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function oe(t){return typeof t=="string"||typeof t=="symbol"}const ae=Symbol("");var Mt,K;function X(t,e){return k(new Error,{type:t,[ae]:!0},e)}function G(t,e){return t instanceof Error&&ae in t&&(e==null||!!(t.type&e))}(K=Mt||(Mt={}))[K.aborted=4]="aborted",K[K.cancelled=8]="cancelled",K[K.duplicated=16]="duplicated";const Bt="[^/]+?",Se={sensitive:!1,strict:!1,start:!0,end:!0},Ae=/[.+*?^${}()[\]/\\]/g;function qe(t,e){let r=0;for(;r<t.length&&r<e.length;){const s=e[r]-t[r];if(s)return s;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Gt(t,e){let r=0;const s=t.score,i=e.score;for(;r<s.length&&r<i.length;){const m=qe(s[r],i[r]);if(m)return m;r++}if(Math.abs(i.length-s.length)===1){if(It(s))return 1;if(It(i))return-1}return i.length-s.length}function It(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Le={type:0,value:""},Me=/[a-zA-Z0-9_]/;function Be(t,e,r){const s=function(m,h){const n=k({},Se,h),o=[];let c=n.start?"^":"";const u=[];for(const l of m){const f=l.length?[]:[90];n.strict&&!l.length&&(c+="/");for(let d=0;d<l.length;d++){const g=l[d];let w=40+(n.sensitive?.25:0);if(g.type===0)d||(c+="/"),c+=g.value.replace(Ae,"\\$&"),w+=40;else if(g.type===1){const{value:O,repeatable:$,optional:A,regexp:M}=g;u.push({name:O,repeatable:$,optional:A});const q=M||Bt;if(q!==Bt){w+=10;try{new RegExp(`(${q})`)}catch(rt){throw new Error(`Invalid custom RegExp for param "${O}" (${q}): `+rt.message)}}let I=$?`((?:${q})(?:/(?:${q}))*)`:`(${q})`;d||(I=A&&l.length<2?`(?:/${I})`:"/"+I),A&&(I+="?"),c+=I,w+=20,A&&(w+=-8),$&&(w+=-20),q===".*"&&(w+=-50)}f.push(w)}o.push(f)}if(n.strict&&n.end){const l=o.length-1;o[l][o[l].length-1]+=.7000000000000001}n.strict||(c+="/?"),n.end?c+="$":n.strict&&!c.endsWith("/")&&(c+="(?:/|$)");const y=new RegExp(c,n.sensitive?"":"i");return{re:y,score:o,keys:u,parse:function(l){const f=l.match(y),d={};if(!f)return null;for(let g=1;g<f.length;g++){const w=f[g]||"",O=u[g-1];d[O.name]=w&&O.repeatable?w.split("/"):w}return d},stringify:function(l){let f="",d=!1;for(const g of m){d&&f.endsWith("/")||(f+="/"),d=!1;for(const w of g)if(w.type===0)f+=w.value;else if(w.type===1){const{value:O,repeatable:$,optional:A}=w,M=O in l?l[O]:"";if(L(M)&&!$)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const q=L(M)?M.join("/"):M;if(!q){if(!A)throw new Error(`Missing required param "${O}"`);g.length<2&&(f.endsWith("/")?f=f.slice(0,-1):d=!0)}f+=q}}return f||"/"}}}(function(m){if(!m)return[[]];if(m==="/")return[[Le]];if(!m.startsWith("/"))throw new Error(`Invalid path "${m}"`);function h($){throw new Error(`ERR (${n})/"${d}": ${$}`)}let n=0,o=n;const c=[];let u;function y(){u&&c.push(u),u=[]}let l,f=0,d="",g="";function w(){d&&(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(l==="*"||l==="+")&&h(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:g,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):h("Invalid state to consume buffer"),d="")}function O(){d+=l}for(;f<m.length;)if(l=m[f++],l!=="\\"||n===2)switch(n){case 0:l==="/"?(d&&w(),y()):l===":"?(w(),n=1):O();break;case 4:O(),n=o;break;case 1:l==="("?n=2:Me.test(l)?O():(w(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&f--);break;case 2:l===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+l:n=3:g+=l;break;case 3:w(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&f--,g="";break;default:h("Unknown state")}else o=n,n=4;return n===2&&h(`Unfinished custom RegExp for param "${d}"`),w(),y(),c}(t.path),r),i=k(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Ge(t,e){const r=[],s=new Map;function i(n,o,c){const u=!c,y=Tt(n);y.aliasOf=c&&c.record;const l=Dt(e,n),f=[y];if("alias"in n){const w=typeof n.alias=="string"?[n.alias]:n.alias;for(const O of w)f.push(Tt(k({},y,{components:c?c.record.components:y.components,path:O,aliasOf:c?c.record:y})))}let d,g;for(const w of f){const{path:O}=w;if(o&&O[0]!=="/"){const $=o.record.path,A=$[$.length-1]==="/"?"":"/";w.path=o.record.path+(O&&A+O)}if(d=Be(w,o,l),c?c.alias.push(d):(g=g||d,g!==d&&g.alias.push(d),u&&n.name&&!Wt(d)&&m(n.name)),Ut(d)&&h(d),y.children){const $=y.children;for(let A=0;A<$.length;A++)i($[A],d,c&&c.children[A])}c=c||d}return g?()=>{m(g)}:J}function m(n){if(oe(n)){const o=s.get(n);o&&(s.delete(n),r.splice(r.indexOf(o),1),o.children.forEach(m),o.alias.forEach(m))}else{const o=r.indexOf(n);o>-1&&(r.splice(o,1),n.record.name&&s.delete(n.record.name),n.children.forEach(m),n.alias.forEach(m))}}function h(n){const o=function(c,u){let y=0,l=u.length;for(;y!==l;){const d=y+l>>1;Gt(c,u[d])<0?l=d:y=d+1}const f=function(d){let g=d;for(;g=g.parent;)if(Ut(g)&&Gt(d,g)===0)return g}(c);return f&&(l=u.lastIndexOf(f,l-1)),l}(n,r);r.splice(o,0,n),n.record.name&&!Wt(n)&&s.set(n.record.name,n)}return e=Dt({strict:!1,end:!0,sensitive:!1},e),t.forEach(n=>i(n)),{addRoute:i,resolve:function(n,o){let c,u,y,l={};if("name"in n&&n.name){if(c=s.get(n.name),!c)throw X(1,{location:n});y=c.record.name,l=k(_t(o.params,c.keys.filter(g=>!g.optional).concat(c.parent?c.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),n.params&&_t(n.params,c.keys.map(g=>g.name))),u=c.stringify(l)}else if(n.path!=null)u=n.path,c=r.find(g=>g.re.test(u)),c&&(l=c.parse(u),y=c.record.name);else{if(c=o.name?s.get(o.name):r.find(g=>g.re.test(o.path)),!c)throw X(1,{location:n,currentLocation:o});y=c.record.name,l=k({},o.params,n.params),u=c.stringify(l)}const f=[];let d=c;for(;d;)f.unshift(d.record),d=d.parent;return{name:y,path:u,params:l,matched:f,meta:_e(f)}},removeRoute:m,clearRoutes:function(){r.length=0,s.clear()},getRoutes:function(){return r},getRecordMatcher:function(n){return s.get(n)}}}function _t(t,e){const r={};for(const s of e)s in t&&(r[s]=t[s]);return r}function Tt(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Ie(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Ie(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const s in t.components)e[s]=typeof r=="object"?r[s]:r;return e}function Wt(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _e(t){return t.reduce((e,r)=>k(e,r.meta),{})}function Dt(t,e){const r={};for(const s in t)r[s]=s in e?e[s]:t[s];return r}function Ut({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Te(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Zt," "),m=i.indexOf("="),h=et(m<0?i:i.slice(0,m)),n=m<0?null:et(i.slice(m+1));if(h in e){let o=e[h];L(o)||(o=e[h]=[o]),o.push(n)}else e[h]=n}return e}function Vt(t){let e="";for(let r in t){const s=t[r];if(r=vt(r).replace(me,"%3D"),s==null){s!==void 0&&(e+=(e.length?"&":"")+r);continue}(L(s)?s.map(i=>i&&vt(i)):[s&&vt(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function We(t){const e={};for(const r in t){const s=t[r];s!==void 0&&(e[r]=L(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const De=Symbol(""),Ft=Symbol(""),ct=Symbol(""),Ot=Symbol(""),Rt=Symbol("");function N(){let t=[];return{add:function(e){return t.push(e),()=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)}},list:()=>t.slice(),reset:function(){t=[]}}}function D(t,e,r,s,i,m=h=>h()){const h=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((n,o)=>{const c=l=>{var f;l===!1?o(X(4,{from:r,to:e})):l instanceof Error?o(l):typeof(f=l)=="string"||f&&typeof f=="object"?o(X(2,{from:e,to:l})):(h&&s.enterCallbacks[i]===h&&typeof l=="function"&&h.push(l),n())},u=m(()=>t.call(s&&s.instances[i],e,r,c));let y=Promise.resolve(u);t.length<3&&(y=y.then(c)),y.catch(l=>o(l))})}function Et(t,e,r,s,i=m=>m()){const m=[];for(const h of t)for(const n in h.components){let o=h.components[n];if(e==="beforeRouteEnter"||h.instances[n])if($t(o)){const c=(o.__vccOpts||o)[e];c&&m.push(D(c,r,s,h,n,i))}else{let c=o();m.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${n}" at "${h.path}"`);const y=(l=u).__esModule||l[Symbol.toStringTag]==="Module"||l.default&&$t(l.default)?u.default:u;var l;h.mods[n]=u,h.components[n]=y;const f=(y.__vccOpts||y)[e];return f&&D(f,r,s,h,n,i)()}))}}return m}function zt(t){const e=F(ct),r=F(Ot),s=B(()=>{const n=Z(t.to);return e.resolve(n)}),i=B(()=>{const{matched:n}=s.value,{length:o}=n,c=n[o-1],u=r.matched;if(!c||!u.length)return-1;const y=u.findIndex(Q.bind(null,c));if(y>-1)return y;const l=Kt(n[o-2]);return o>1&&Kt(c)===l&&u[u.length-1].path!==l?u.findIndex(Q.bind(null,n[o-2])):y}),m=B(()=>i.value>-1&&function(n,o){for(const c in o){const u=o[c],y=n[c];if(typeof u=="string"){if(u!==y)return!1}else if(!L(y)||y.length!==u.length||u.some((l,f)=>l!==y[f]))return!1}return!0}(r.params,s.value.params)),h=B(()=>i.value>-1&&i.value===r.matched.length-1&&ne(r.params,s.value.params));return{route:s,href:B(()=>s.value.href),isActive:m,isExactActive:h,navigate:function(n={}){if(function(o){if(!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)&&!o.defaultPrevented&&!(o.button!==void 0&&o.button!==0)){if(o.currentTarget&&o.currentTarget.getAttribute){const c=o.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(c))return}return o.preventDefault&&o.preventDefault(),!0}}(n)){const o=e[Z(t.replace)?"replace":"push"](Z(t.to)).catch(J);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>o),o}return Promise.resolve()}}}const Ue=Xt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:zt,setup(t,{slots:e}){const r=ue(zt(t)),{options:s}=F(ct),i=B(()=>({[Ht(t.activeClass,s.linkActiveClass,"router-link-active")]:r.isActive,[Ht(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const m=e.default&&((h=e.default(r)).length===1?h[0]:h);var h;return t.custom?m:Yt("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},m)}}});function Kt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ht=(t,e,r)=>t??e??r;function Qt(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Ve=Xt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const s=F(Rt),i=B(()=>t.route||s.value),m=F(Ft,0),h=B(()=>{let c=Z(m);const{matched:u}=i.value;let y;for(;(y=u[c])&&!y.components;)c++;return c}),n=B(()=>i.value.matched[h.value]);mt(Ft,B(()=>h.value+1)),mt(De,n),mt(Rt,i);const o=fe();return pe(()=>[o.value,n.value,t.name],([c,u,y],[l,f,d])=>{u&&(u.instances[y]=c,f&&f!==u&&c&&c===l&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),!c||!u||f&&Q(u,f)&&l||(u.enterCallbacks[y]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,y=n.value,l=y&&y.components[u];if(!l)return Qt(r.default,{Component:l,route:c});const f=y.props[u],d=f?f===!0?c.params:typeof f=="function"?f(c):f:null,g=Yt(l,k({},d,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(y.instances[u]=null)},ref:o}));return Qt(r.default,{Component:g,route:c})||g}}});function Ke(t){const e=Ge(t.routes,t),r=t.parseQuery||Te,s=t.stringifyQuery||Vt,i=t.history,m=N(),h=N(),n=N(),o=ce(W);let c=W;H&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=gt.bind(null,a=>""+a),y=gt.bind(null,Re),l=gt.bind(null,et);function f(a,v){if(v=k({},v||o.value),typeof a=="string"){const E=yt(r,a,v.path),S=e.resolve({path:E.path},v),x=i.createHref(E.fullPath);return k(E,S,{params:l(S.params),hash:et(E.hash),redirectedFrom:void 0,href:x})}let p;if(a.path!=null)p=k({},a,{path:yt(r,a.path,v.path).path});else{const E=k({},a.params);for(const S in E)E[S]==null&&delete E[S];p=k({},a,{params:y(E)}),v.params=y(v.params)}const b=e.resolve(p,v),C=a.hash||"";b.params=u(l(b.params));const j=function(E,S){const x=S.query?E(S.query):"";return S.path+(x&&"?")+x+(S.hash||"")}(s,k({},a,{hash:(P=C,kt(P).replace(te,"{").replace(ee,"}").replace(Jt,"^")),path:b.path}));var P;const R=i.createHref(j);return k({fullPath:j,hash:C,query:s===Vt?We(a.query):a.query||{}},b,{redirectedFrom:void 0,href:R})}function d(a){return typeof a=="string"?yt(r,a,o.value.path):k({},a)}function g(a,v){if(c!==a)return X(8,{from:v,to:a})}function w(a){return $(a)}function O(a){const v=a.matched[a.matched.length-1];if(v&&v.redirect){const{redirect:p}=v;let b=typeof p=="function"?p(a):p;return typeof b=="string"&&(b=b.includes("?")||b.includes("#")?b=d(b):{path:b},b.params={}),k({query:a.query,hash:a.hash,params:b.path!=null?{}:a.params},b)}}function $(a,v){const p=c=f(a),b=o.value,C=a.state,j=a.force,P=a.replace===!0,R=O(p);if(R)return $(k(d(R),{state:typeof R=="object"?k({},C,R.state):C,force:j,replace:P}),v||p);const E=p;let S;return E.redirectedFrom=v,!j&&function(x,_,U){const T=_.matched.length-1,V=U.matched.length-1;return T>-1&&T===V&&Q(_.matched[T],U.matched[V])&&ne(_.params,U.params)&&x(_.query)===x(U.query)&&_.hash===U.hash}(s,b,p)&&(S=X(16,{to:E,from:b}),xt(b,b,!0,!1)),(S?Promise.resolve(S):q(E,b)).catch(x=>G(x)?G(x,2)?x:ut(x):it(x,E,b)).then(x=>{if(x){if(G(x,2))return $(k({replace:P},d(x.to),{state:typeof x.to=="object"?k({},C,x.to.state):C,force:j}),v||E)}else x=rt(E,b,!0,P,C);return I(E,b,x),x})}function A(a,v){const p=g(a,v);return p?Promise.reject(p):Promise.resolve()}function M(a){const v=at.values().next().value;return v&&typeof v.runWithContext=="function"?v.runWithContext(a):a()}function q(a,v){let p;const[b,C,j]=function(R,E){const S=[],x=[],_=[],U=Math.max(E.matched.length,R.matched.length);for(let T=0;T<U;T++){const V=E.matched[T];V&&(R.matched.find(dt=>Q(dt,V))?x.push(V):S.push(V));const ht=R.matched[T];ht&&(E.matched.find(dt=>Q(dt,ht))||_.push(ht))}return[S,x,_]}(a,v);p=Et(b.reverse(),"beforeRouteLeave",a,v);for(const R of b)R.leaveGuards.forEach(E=>{p.push(D(E,a,v))});const P=A.bind(null,a,v);return p.push(P),z(p).then(()=>{p=[];for(const R of m.list())p.push(D(R,a,v));return p.push(P),z(p)}).then(()=>{p=Et(C,"beforeRouteUpdate",a,v);for(const R of C)R.updateGuards.forEach(E=>{p.push(D(E,a,v))});return p.push(P),z(p)}).then(()=>{p=[];for(const R of j)if(R.beforeEnter)if(L(R.beforeEnter))for(const E of R.beforeEnter)p.push(D(E,a,v));else p.push(D(R.beforeEnter,a,v));return p.push(P),z(p)}).then(()=>(a.matched.forEach(R=>R.enterCallbacks={}),p=Et(j,"beforeRouteEnter",a,v,M),p.push(P),z(p))).then(()=>{p=[];for(const R of h.list())p.push(D(R,a,v));return p.push(P),z(p)}).catch(R=>G(R,8)?R:Promise.reject(R))}function I(a,v,p){n.list().forEach(b=>M(()=>b(a,v,p)))}function rt(a,v,p,b,C){const j=g(a,v);if(j)return j;const P=v===W,R=H?history.state:{};p&&(b||P?i.replace(a.fullPath,k({scroll:P&&R&&R.scroll},C)):i.push(a.fullPath,C)),o.value=a,xt(a,v,p,P),ut()}let Y;function se(){Y||(Y=i.listen((a,v,p)=>{if(!Ct.listening)return;const b=f(a),C=O(b);if(C)return void $(k(C,{replace:!0,force:!0}),b).catch(J);c=b;const j=o.value;var P,R;H&&(P=qt(j.fullPath,p.delta),R=st(),wt.set(P,R)),q(b,j).catch(E=>G(E,12)?E:G(E,2)?($(k(d(E.to),{force:!0}),b).then(S=>{G(S,20)&&!p.delta&&p.type===nt.pop&&i.go(-1,!1)}).catch(J),Promise.reject()):(p.delta&&i.go(-p.delta,!1),it(E,b,j))).then(E=>{(E=E||rt(b,j,!1))&&(p.delta&&!G(E,8)?i.go(-p.delta,!1):p.type===nt.pop&&G(E,20)&&i.go(-1,!1)),I(b,j,E)}).catch(J)}))}let ot,lt=N(),Pt=N();function it(a,v,p){ut(a);const b=Pt.list();return b.length?b.forEach(C=>C(a,v,p)):console.error(a),Promise.reject(a)}function ut(a){return ot||(ot=!a,se(),lt.list().forEach(([v,p])=>a?p(a):v()),lt.reset()),a}function xt(a,v,p,b){const{scrollBehavior:C}=t;if(!H||!C)return Promise.resolve();const j=!p&&function(P){const R=wt.get(P);return wt.delete(P),R}(qt(a.fullPath,0))||(b||!p)&&history.state&&history.state.scroll||null;return ie().then(()=>C(a,v,j)).then(P=>P&&$e(P)).catch(P=>it(P,a,v))}const ft=a=>i.go(a);let pt;const at=new Set,Ct={currentRoute:o,listening:!0,addRoute:function(a,v){let p,b;return oe(a)?(p=e.getRecordMatcher(a),b=v):b=a,e.addRoute(b,p)},removeRoute:function(a){const v=e.getRecordMatcher(a);v&&e.removeRoute(v)},clearRoutes:e.clearRoutes,hasRoute:function(a){return!!e.getRecordMatcher(a)},getRoutes:function(){return e.getRoutes().map(a=>a.record)},resolve:f,options:t,push:w,replace:function(a){return w(k(d(a),{replace:!0}))},go:ft,back:()=>ft(-1),forward:()=>ft(1),beforeEach:m.add,beforeResolve:h.add,afterEach:n.add,onError:Pt.add,isReady:function(){return ot&&o.value!==W?Promise.resolve():new Promise((a,v)=>{lt.add([a,v])})},install(a){a.component("RouterLink",Ue),a.component("RouterView",Ve),a.config.globalProperties.$router=this,Object.defineProperty(a.config.globalProperties,"$route",{enumerable:!0,get:()=>Z(o)}),H&&!pt&&o.value===W&&(pt=!0,w(i.location).catch(b=>{}));const v={};for(const b in W)Object.defineProperty(v,b,{get:()=>o.value[b],enumerable:!0});a.provide(ct,this),a.provide(Ot,le(v)),a.provide(Rt,o);const p=a.unmount;at.add(a),a.unmount=function(){at.delete(a),at.size<1&&(c=W,Y&&Y(),Y=null,o.value=W,pt=!1,ot=!1),p()}}};function z(a){return a.reduce((v,p)=>v.then(()=>M(p)),Promise.resolve())}return Ct}function He(){return F(ct)}function Qe(t){return F(Ot)}export{He as a,ze as b,Ke as c,Qe as u};
