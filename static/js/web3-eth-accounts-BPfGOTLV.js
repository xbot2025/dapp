import{t as O,u as F}from"./web3-errors-DMH_yRvG.js";import"./web3-validator-CNlFpTpb.js";import"./web3-types-DPR2whjI.js";import"./crc-32-BDf5M4FI.js";import{e as N}from"./ethereum-cryptography-CHyfgW_b.js";import{s as D}from"./@noble-ymNIOX9z.js";import{B as G,s as q,q as z,C as H,x as W}from"./web3-utils-4vEJ-nRv.js";var b;const C=(b=D)!==null&&b!==void 0?b:N;BigInt("0xffffffffffffffff"),BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");C.CURVE.n;var S,T,B,L,R,U;BigInt(2),function(t){t[t.Mainnet=1]="Mainnet",t[t.Goerli=5]="Goerli",t[t.Sepolia=11155111]="Sepolia"}(S||(S={})),function(t){t.Chainstart="chainstart",t.Homestead="homestead",t.Dao="dao",t.TangerineWhistle="tangerineWhistle",t.SpuriousDragon="spuriousDragon",t.Byzantium="byzantium",t.Constantinople="constantinople",t.Petersburg="petersburg",t.Istanbul="istanbul",t.MuirGlacier="muirGlacier",t.Berlin="berlin",t.London="london",t.ArrowGlacier="arrowGlacier",t.GrayGlacier="grayGlacier",t.MergeForkIdTransition="mergeForkIdTransition",t.Merge="merge",t.Shanghai="shanghai",t.ShardingForkDev="shardingFork"}(T||(T={})),function(t){t.ProofOfStake="pos",t.ProofOfWork="pow",t.ProofOfAuthority="poa"}(B||(B={})),function(t){t.Ethash="ethash",t.Clique="clique",t.Casper="casper"}(L||(L={})),function(t){t.PolygonMainnet="polygon-mainnet",t.PolygonMumbai="polygon-mumbai",t.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",t.ArbitrumOne="arbitrum-one",t.xDaiChain="x-dai-chain",t.OptimisticKovan="optimistic-kovan",t.OptimisticEthereum="optimistic-ethereum"}(R||(R={})),function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"}(U||(U={}));var k,M,a={};(function(){if(k)return a;function t(r){if(Array.isArray(r)){const i=[];let e=0;for(let o=0;o<r.length;o++){const f=t(r[o]);i.push(f),e+=f.length}return p(h(e,192),...i)}const n=I(r);return n.length===1&&n[0]<128?n:p(h(n.length,128),n)}function u(r,n,i){if(i>r.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return r.slice(n,i)}function d(r){if(r[0]===0)throw new Error("invalid RLP: extra zeros");return v(E(r))}function h(r,n){if(r<56)return Uint8Array.from([r+n]);const i=y(r),e=y(n+55+i.length/2);return Uint8Array.from(g(e+i))}function c(r,n=!1){if(r==null||r.length===0)return Uint8Array.from([]);const i=l(I(r));if(n)return i;if(i.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return i.data}function l(r){let n,i,e,o,f;const m=[],s=r[0];if(s<=127)return{data:r.slice(0,1),remainder:r.slice(1)};if(s<=183){if(n=s-127,e=s===128?Uint8Array.from([]):u(r,1,n),n===2&&e[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:e,remainder:r.slice(n)}}if(s<=191){if(i=s-182,r.length-1<i)throw new Error("invalid RLP: not enough bytes for string length");if(n=d(u(r,1,i)),n<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return e=u(r,i,n+i),{data:e,remainder:r.slice(n+i)}}if(s<=247){for(n=s-191,o=u(r,1,n);o.length;)f=l(o),m.push(f.data),o=f.remainder;return{data:m,remainder:r.slice(n)}}{if(i=s-246,n=d(u(r,1,i)),n<56)throw new Error("invalid RLP: encoded list too short");const w=i+n;if(w>r.length)throw new Error("invalid RLP: total length is larger than the data");for(o=u(r,i,w);o.length;)f=l(o),m.push(f.data),o=f.remainder;return{data:m,remainder:r.slice(w)}}}k=1,Object.defineProperty(a,"__esModule",{value:!0}),a.RLP=a.utils=a.decode=a.encode=void 0,a.encode=t,a.decode=c;const P=Array.from({length:256},(r,n)=>n.toString(16).padStart(2,"0"));function E(r){let n="";for(let i=0;i<r.length;i++)n+=P[r[i]];return n}function v(r){const n=Number.parseInt(r,16);if(Number.isNaN(n))throw new Error("Invalid byte sequence");return n}function g(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const e=2*i;n[i]=v(r.slice(e,e+2))}return n}function p(...r){if(r.length===1)return r[0];const n=r.reduce((e,o)=>e+o.length,0),i=new Uint8Array(n);for(let e=0,o=0;e<r.length;e++){const f=r[e];i.set(f,o),o+=f.length}return i}function x(r){return new TextEncoder().encode(r)}function y(r){if(r<0)throw new Error("Invalid integer as argument, must be unsigned!");const n=r.toString(16);return n.length%2?`0${n}`:n}function A(r){return r.length>=2&&r[0]==="0"&&r[1]==="x"}function I(r){if(r instanceof Uint8Array)return r;if(typeof r=="string")return A(r)?g((n=typeof(i=r)!="string"?i:A(i)?i.slice(2):i).length%2?`0${n}`:n):x(r);var n,i;if(typeof r=="number"||typeof r=="bigint")return r?g(y(r)):Uint8Array.from([]);if(r==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof r)}a.utils={bytesToHex:E,concatBytes:p,hexToBytes:g,utf8ToBytes:x},a.RLP={encode:t,decode:c}})(),function(t){t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists"}(M||(M={}));G("2".padStart(2,"0"));G("1".padStart(2,"0"));const X=t=>{const u=(c=>{let l;try{l=H(c)?c:W(c)}catch{throw new O}if(l.byteLength!==32)throw new F;return l})(t),d=C.getPublicKey(u,!1),h=q(d.slice(1)).slice(-40);return z(`0x${h}`)};export{X as p};
