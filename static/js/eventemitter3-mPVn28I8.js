import{g as d}from"./call-bind-apply-helpers-CEGoAvTb.js";var x,m={exports:{}};const L=d((x||(x=1,function(w){var g=Object.prototype.hasOwnProperty,f="~";function l(){}function b(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function y(t,e,n,a,p){if(typeof n!="function")throw new TypeError("The listener must be a function");var s=new b(n,a||t,p),i=f?f+e:e;return t._events[i]?t._events[i].fn?t._events[i]=[t._events[i],s]:t._events[i].push(s):(t._events[i]=s,t._eventsCount++),t}function _(t,e){--t._eventsCount==0?t._events=new l:delete t._events[e]}function c(){this._events=new l,this._eventsCount=0}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(f=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(this._eventsCount===0)return n;for(e in t=this._events)g.call(t,e)&&n.push(f?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=f?f+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,p=n.length,s=new Array(p);a<p;a++)s[a]=n[a].fn;return s},c.prototype.listenerCount=function(t){var e=f?f+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,a,p,s){var i=f?f+t:t;if(!this._events[i])return!1;var u,o,r=this._events[i],v=arguments.length;if(r.fn){switch(r.once&&this.removeListener(t,r.fn,void 0,!0),v){case 1:return r.fn.call(r.context),!0;case 2:return r.fn.call(r.context,e),!0;case 3:return r.fn.call(r.context,e,n),!0;case 4:return r.fn.call(r.context,e,n,a),!0;case 5:return r.fn.call(r.context,e,n,a,p),!0;case 6:return r.fn.call(r.context,e,n,a,p,s),!0}for(o=1,u=new Array(v-1);o<v;o++)u[o-1]=arguments[o];r.fn.apply(r.context,u)}else{var h,O=r.length;for(o=0;o<O;o++)switch(r[o].once&&this.removeListener(t,r[o].fn,void 0,!0),v){case 1:r[o].fn.call(r[o].context);break;case 2:r[o].fn.call(r[o].context,e);break;case 3:r[o].fn.call(r[o].context,e,n);break;case 4:r[o].fn.call(r[o].context,e,n,a);break;default:if(!u)for(h=1,u=new Array(v-1);h<v;h++)u[h-1]=arguments[h];r[o].fn.apply(r[o].context,u)}}return!0},c.prototype.on=function(t,e,n){return y(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return y(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,a){var p=f?f+t:t;if(!this._events[p])return this;if(!e)return _(this,p),this;var s=this._events[p];if(s.fn)s.fn!==e||a&&!s.once||n&&s.context!==n||_(this,p);else{for(var i=0,u=[],o=s.length;i<o;i++)(s[i].fn!==e||a&&!s[i].once||n&&s[i].context!==n)&&u.push(s[i]);u.length?this._events[p]=u.length===1?u[0]:u:_(this,p)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=f?f+t:t,this._events[e]&&_(this,e)):(this._events=new l,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=f,c.EventEmitter=c,w.exports=c}(m)),m.exports));export{L as E};
